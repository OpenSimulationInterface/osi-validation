<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OSI KPIs definitions: SensorView Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OSI KPIs definitions
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SensorView Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The ground truth information from the simulation environment.  
 <a href="class_sensor_view.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The ground truth information from the simulation environment. </p>
<p>The sensor view is derived from <code>GroundTruth</code> and used as input to sensor models.</p>
<p>This ground truth information is supposed to describe the whole simulated environment around any simulated vehicle. For each simulated host vehicle (there may be one or multiple), define an area around the vehicle which is greater than the combined field of views (FOV) of all obstructed sensors in the vehicle. The ground truth data is supposed to describe the convex hull of all such areas w.r.t. a global simulation coordinate system.</p>
<p>The simulation coordinate system may change during the simulation if and only if all coordinates w.r.t. this coordinate system are also changed.</p>
<p>The data has to be sent at a rate defined by the receiving partner. When sending, values with default values might be left default in order to improve performance.</p>
<p>To provide a complete interface, all fields of all contained messages must be properly set unless specifically stated in the field's definition that the field may remain unset.</p>
<p>In enums (e.g. types) the unknown (first / default) value is not allowed to be used in the ground truth interface.</p>
<table class="doxtable">
<tr>
<th>field </th><th>type </th><th>repeated </th><th>Requirements  </th></tr>
<tr>
<td>version </td><td><code>InterfaceVersion</code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>timestamp </td><td><code><a class="el" href="class_timestamp.html" title="A timestamp. ">Timestamp</a></code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>host_vehicle_id </td><td><code><a class="el" href="class_identifier.html" title="A common identifier (ID), represented as an integer. ">Identifier</a></code> </td><td>No </td><td>Must correspond to the host_vehicle_id </td></tr>
<tr>
<td>stationary_object </td><td><code><a class="el" href="class_stationary_object.html" title="A simulated object that is neither a moving object (vehicle or MovingObject e.g. pedestrian, animal, or vehicle) nor a traffic related object (TrafficLight, TrafficSign) ">StationaryObject</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>moving_object </td><td><code>MovingObject</code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>traffic_sign </td><td><code><a class="el" href="class_traffic_sign.html" title="Additional value associated with a traffic sign or road marking and its unit. ">TrafficSign</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>traffic_light </td><td><code><a class="el" href="class_traffic_light.html" title="A traffic light. ">TrafficLight</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>road_marking </td><td><code><a class="el" href="class_road_marking.html" title="A road surface marking. ">RoadMarking</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>lane_boundary </td><td><code><a class="el" href="class_lane_boundary.html" title="A lane boundary defining the border of a lane. ">LaneBoundary</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>lane </td><td><code><a class="el" href="class_lane.html" title="A lane in the road network. ">Lane</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>occupant </td><td><code><a class="el" href="class_occupant.html" title="An occupant of a host vehicle, especially the driver of the vehicle. ">Occupant</a></code> </td><td>Yes </td><td>If set must be valid </td></tr>
<tr>
<td>environmental_conditions </td><td><code><a class="el" href="class_environmental_conditions.html" title="The conditions of the environment. ">EnvironmentalConditions</a></code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>country_code </td><td><code>uint32</code> </td><td>No </td><td>Must be set and correspond to a ISO-3166 country code </td></tr>
<tr>
<td>proj_string </td><td><code>string</code> </td><td>No </td><td>If set must be valid </td></tr>
</table>
<p>map_reference | <code>string</code> | No |</p>
<dl class="section user"><dt>Details on timestamp</dt><dd></dd></dl>
<p>The data timestamp of the simulation environment. The zero time point is arbitrary but must be identical for all messages. Recommendation: Zero time point for start point of the simulation.</p>
<dl class="section note"><dt>Note</dt><dd>Zero time point does not need to coincide with the UNIX epoch.</dd>
<dd>
For ground truth data this timestamp coincides both with the notional simulation time the data applies to and the time it was sent (there is no inherent latency for ground truth data, as opposed to sensor data).</dd></dl>
<dl class="section user"><dt>proj_string</dt><dd>The string follows the PROJ.4 project rules for projections [1].</dd></dl>
<dl class="section user"><dt>References:</dt><dd><ul>
<li>[1] <a href="https://proj4.org/usage/projections.html">Proj.4 Projections</a></li>
</ul>
</dd></dl>
<dl class="section user"><dt>Details on map_reference</dt><dd>Opaque reference of a map.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Origin and orientation of the map have to coincide with the inertial coordinate frame of the ground truth.</dd>
<dd>
It is implementation-specific how map_reference is resolved.</dd>
<dd>
OSI uses singular instead of plural for repeated field names.</dd></dl>
<p>The sensor view information is supposed to provide input to sensor models for simulation of actual real sensors. All information regarding the environment is given with respect to the virtual sensor coordinate system specified in <code>SensorView::mounting_position</code>, except for the individual physical technology-specific data, which is given with respect to the physical sensor coordinate system specified in the corresponding physical sensor's <code>#mounting_position</code>, and the <code>#global_ground_truth</code>, which is given in global coordinates.</p>
<p>When simulating multiple distinct sensors, each sensor can consume an individual copy of the <code><a class="el" href="class_sensor_view.html" title="The ground truth information from the simulation environment. ">SensorView</a></code> interface. This allows an independent treatment of the sensors.</p>
<p>Alternatively combined sensor models can also consume one combined <code><a class="el" href="class_sensor_view.html" title="The ground truth information from the simulation environment. ">SensorView</a></code>, with either combined or separate <code><a class="el" href="class_sensor_data.html" title="The sensor information derived from GroundTruth and processed by sensor-models. ">SensorData</a></code> outputs, depending on model architecture.</p>
<dl class="section user"><dt>Requirements</dt><dd></dd></dl>
<table class="doxtable">
<tr>
<th>field </th><th>type </th><th>repeated </th><th>Requirements  </th></tr>
<tr>
<td>version </td><td><code>InterfaceVersion</code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>timestamp </td><td><code><a class="el" href="class_timestamp.html" title="A timestamp. ">Timestamp</a></code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>sensor_id </td><td><code><a class="el" href="class_identifier.html" title="A common identifier (ID), represented as an integer. ">Identifier</a></code> </td><td>No </td><td>Must correspond to the id of a virtual sensor </td></tr>
<tr>
<td>mounting_position </td><td><code><a class="el" href="class_mounting_position.html" title="Specifies the mounting position of a sensor. ">MountingPosition</a></code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>mounting_position_rmse </td><td><code><a class="el" href="class_mounting_position.html" title="Specifies the mounting position of a sensor. ">MountingPosition</a></code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>host_vehicle_data </td><td><code>HostVehicleData</code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>global_ground_truth </td><td><code>GroundTruth</code> </td><td>No </td><td>Must be set and valid </td></tr>
<tr>
<td>host_vehicle_id </td><td><code><a class="el" href="class_identifier.html" title="A common identifier (ID), represented as an integer. ">Identifier</a></code> </td><td>No </td><td>Must be set and correspond to a <code>MovingObject</code> </td></tr>
<tr>
<td>generic_sensor_view </td><td><code><a class="el" href="class_generic_sensor_view.html" title="Definition of the generic sensor view. ">GenericSensorView</a></code> </td><td>Yes </td><td>If set, must be valid </td></tr>
<tr>
<td>radar_sensor_view </td><td><code><a class="el" href="class_radar_sensor_view.html" title="Definition of the radar sensor view. ">RadarSensorView</a></code> </td><td>Yes </td><td>If set, must be valid </td></tr>
<tr>
<td>lidar_sensor_view </td><td><code><a class="el" href="class_lidar_sensor_view.html" title="Definition of the lidar sensor view. ">LidarSensorView</a></code> </td><td>Yes </td><td>If set, must be valid </td></tr>
<tr>
<td>camera_sensor_view </td><td><code><a class="el" href="class_camera_sensor_view.html" title="Definition of the camera sensor view. ">CameraSensorView</a></code> </td><td>Yes </td><td>If set, must be valid </td></tr>
<tr>
<td>ultrasonic_sensor_view </td><td><code><a class="el" href="class_ultrasonic_sensor_view.html" title="Definition of the camera sensor view. ">UltrasonicSensorView</a></code> </td><td>Yes </td><td>If set, must be valid </td></tr>
</table>
<dl class="section user"><dt>Details on timestamp</dt><dd></dd></dl>
<p>The timestamp of the sensor data. Zero time is arbitrary but must be identical for all messages. Zero time does not need to coincide with the unix epoch. Recommended is the starting time point of the simulation.</p>
<dl class="section note"><dt>Note</dt><dd>This is the point in time that the sensor data message becomes available to the rest of the system (i.e. the driving functions), so it corresponds with the sending time and thus takes the latency of internal processing of the sensor into account. Latencies of bus communications, etc., that occur after the sensor output have to be applied on top of this, if needed.</dd></dl>
<p>The time that the actual measurement was performed (which will usually correspond with the timestamp of the <code>GroundTruth</code> the sensor model processed to arrive at these results) can be found in the additional field <code>SensorData::last_measurement_time</code>.</p>
<p>For an ideal zero latency sensor the two timestamps would be the same and would correspond with the timestamp from the current <code>GroundTruth</code> message.</p>
<p>For a sensor model that does not know its own internal latencies (e.g. a dumb sensor with no internal time concept), the two timestamps might also be identical, but delayed from the <code>GroundTruth</code> timestamp.</p>
<dl class="section user"><dt>Details on mounting_position</dt><dd></dd></dl>
<p>The physical mounting position of the sensor (origin and orientation of the sensor coordinate system) given in vehicle coordinates [1]. The physical position pertains to this detector individually, and governs the sensor-relative coordinates in features detected by this detector.</p>
<ul>
<li><b>x-direction</b> of sensor coordinate system: sensor viewing direction </li>
<li><b>z-direction</b> of sensor coordinate system: sensor (up) </li>
<li><b>y-direction</b> of sensor coordinate system: perpendicular to x and z right hand system</li>
</ul>
<dl class="section user"><dt>References:</dt><dd><ul>
<li>[1] DIN ISO 8855:2013-11</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The origin of vehicle's coordinate system in world frame is ( <code>MovingObject::base</code> . <code>BaseMoving::position</code> + Inverse_Rotation_yaw_pitch_roll( <code>MovingObject::base</code> . <code>BaseMoving::orientation</code>) * <code>MovingObject::VehicleAttributes::bbcenter_to_rear</code>) . The orientation of the vehicle's coordinate system is equal to the orientation of the vehicle's bounding box <code>MovingObject::base</code> . <code>BaseMoving::orientation</code>. </dd>
<dd>
A default position can be provided by the sensor model (e.g. to indicate the position the model was validated for), but this is optional; the environment simulation must provide a valid mounting position (based on the vehicle configuration) when setting the view configuration.</dd></dl>
<h6></h6>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
